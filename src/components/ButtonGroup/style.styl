@import '../../resources/css/config'
@import '../../resources/css/mixins'
@import '../Button/_variables'
@import '_variables'

.button-group
    position: relative
    display: inline-flex
    vertical-align: middle

    > .button
        position: relative
        flex: 0 1 auto
        z-index: 0

        &:hover
        &:focus
        &:active
        &.-active
            z-index: 1

    > .button:first-child
        margin-left: 0

    &:not(.-vertical)
        // Reset rounded corners
        > .button:not(:last-child)
        > .button-group:not(:last-child) > .button
            border-top-right-radius: 0
            border-bottom-right-radius: 0
            border-right: 0

        > .button:not(:first-child)
        > .button-group:not(:first-child) > .button
            border-top-left-radius: 0
            border-bottom-left-radius: 0

    &.-vertical
        flex-direction: column
        align-items: flex-start
        justify-content: center

        .button
        .button-group
            width: 100%

        > .button:not(:last-child)
        > .button-group:not(:last-child) > .button
            border-bottom-left-radius: 0
            border-bottom-right-radius: 0
            border-bottom: 0

        > .button:not(:first-child)
        > .button-group:not(:first-child) > .button
            border-top-left-radius: 0
            border-top-right-radius: 0

    // Button group sizes
    // Add small, medium and large button sizes
    for size in (sm md lg)
        &.-{size}
            .button
                font-size: --button-font-size[size]
                padding: --button-padding[size]

                &.-circle
                    border-radius: 100%
                    width: --button-circle-size[size]
                    height: --button-circle-size[size]
                    padding: 0

            &:not(.-vertical)
                > .button:last-child
                > .button-group:last-child > .button
                    border-top-right-radius: --button-border-radius[size]
                    border-bottom-right-radius: --button-border-radius[size]
                > .button:first-child
                > .button-group:first-child > .button
                    border-top-left-radius: --button-border-radius[size]
                    border-bottom-left-radius: --button-border-radius[size]

            &.-vertical
                > .button:last-child
                > .button-group:last-child > .button
                    border-bottom-left-radius: --button-border-radius[size]
                    border-bottom-right-radius: --button-border-radius[size]

                > .button:first-child
                > .button-group:first-child > .button
                    border-top-left-radius: --button-border-radius[size]
                    border-top-right-radius: --button-border-radius[size]


    // Button border accent
    //
    &:not(.-vertical) > .button:not(:first-child)
            border-left-color: darken(--themes['button']['light']['color'], --button-darken-percentage-hover)
    &.-vertical > .button:not(:first-child)
            border-top-color: darken(--themes['button']['light']['color'], --button-darken-percentage-hover)

    // Button themes
    // Add the required color themes to all button variations
    for --theme-name, --theme in --themes['button']
        > .button.-{--theme-name}
            if --gradient-enabled and --theme['gradient']
                background-image: -linear-gradient(--theme['gradient'], to bottom)

        &:not(.-vertical) > .button.-{--theme-name}:not(:first-child)
            border-left-color: darken(--theme['color'], --button-darken-percentage-hover)
        &.-vertical > .button.-{--theme-name}:not(:first-child)
            border-top-color: darken(--theme['color'], --button-darken-percentage-hover)
